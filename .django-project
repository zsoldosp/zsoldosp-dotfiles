export MANAGE_PY=/path/to/manage_py
export DJANGO_CONFIG=settings
export DJANGO_TEST_COMMAND=test

# TODO: how to get the chroot to work
#[play] peter@ubuntu$ echo $OLD_PS1
#\[\e]0;\u@\h: \w\a\]${debian_chroot:+($debian_chroot)}\u@\h:\w\$

export OLD_PS1=$PS1
export PS1='[$(echo $DJANGO_CONFIG)] \[\e]0;\u@\h: \w\a\]\u@\h\$ ' # thanks to @grault

function manage_py_test() {
        CMD="python $MANAGE_PY $DJANGO_TEST_COMMAND $*" 
        test_config=${DJANGO_CONFIG}_test
        CMD="$CMD --settings=$test_config 2>&1 | tee test.log"
        $CMD
}
function manage_py() {
        python $MANAGE_PY $* --settings=${DJANGO_CONFIG}
}

function shell_plus() {
    manage_py shell_plus $*
}

function runscript() {
    manage_py runscript $* --traceback
}
